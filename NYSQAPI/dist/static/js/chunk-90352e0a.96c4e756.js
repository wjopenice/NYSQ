(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90352e0a"],{"405f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"dataForm",staticStyle:{width:"800px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"110px"}},[a("el-form-item",{attrs:{label:"所属商圈"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"140px"},on:{change:e.selectData},model:{value:e.couponSelected,callback:function(t){e.couponSelected=t},expression:"couponSelected"}},e._l(e.type,(function(e){return a("el-option",{key:e.id,attrs:{label:e.b_d_name,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商家名称"}},[a("el-input",{on:{blur:e.saveaddress},model:{value:e.temp.merc_name,callback:function(t){e.$set(e.temp,"merc_name",t)},expression:"temp.merc_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"楼层"}},e._l(e.jsonData,(function(t){return a("el-radio",{attrs:{label:t},on:{change:e.saveaddress},model:{value:e.temp.merc_floor,callback:function(t){e.$set(e.temp,"merc_floor",t)},expression:"temp.merc_floor"}},[e._v(e._s(t)+"楼")])})),1),e._v(" "),a("el-form-item",{attrs:{label:"房间号/档口号"}},[a("el-input",{attrs:{maxlength:"10"},on:{blur:e.saveaddress},model:{value:e.temp.room_number,callback:function(t){e.$set(e.temp,"room_number",t)},expression:"temp.room_number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商家地址"}},[a("el-input",{attrs:{readonly:""},model:{value:e.temp.merc_address,callback:function(t){e.$set(e.temp,"merc_address",t)},expression:"temp.merc_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商家LOGO"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_logo,"list-type":"picture-card",icon:"el-icon-upload",limit:1,"auto-upload":!0,"on-success":e.imgsuccess1}},[e._v("上传LOGO")])],1),e._v(" "),a("el-form-item",{attrs:{label:"商家简介"}},[a("el-input",{model:{value:e.temp.merc_info,callback:function(t){e.$set(e.temp,"merc_info",t)},expression:"temp.merc_info"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商家描述"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.temp.merc_description,callback:function(t){e.$set(e.temp,"merc_description",t)},expression:"temp.merc_description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统标签"}},[a("el-checkbox-group",{model:{value:e.temp.merc_sys_tag,callback:function(t){e.$set(e.temp,"merc_sys_tag",t)},expression:"temp.merc_sys_tag"}},[e._l(e.sysTag,(function(t){return a("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(t.name))])})),a("br")],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"风格标签"}},[a("el-checkbox-group",{model:{value:e.temp.merc_diy_tag,callback:function(t){e.$set(e.temp,"merc_diy_tag",t)},expression:"temp.merc_diy_tag"}},[e._l(e.diyTag,(function(t){return a("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(t.name))])})),a("br")],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"商家轮播图"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_banner,"list-type":"picture-card",icon:"el-icon-upload",limit:5,"auto-upload":!0,"on-success":e.imgsuccess2}},[e._v("上传图片(最多5张)")])],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"多个手机号请用 ，隔开"},model:{value:e.temp.merc_tel,callback:function(t){e.$set(e.temp,"merc_tel",t)},expression:"temp.merc_tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信二维码"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_wechat_qrcode,"list-type":"picture-card",icon:"el-icon-upload",limit:4,"auto-upload":!0,"on-success":e.imgsuccess3}},[e._v("上传图片")])],1),e._v(" "),a("el-form-item",{attrs:{label:"公众号地址"}},[a("el-input",{model:{value:e.temp.merc_wechat_pub_address,callback:function(t){e.$set(e.temp,"merc_wechat_pub_address",t)},expression:"temp.merc_wechat_pub_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公众号二维码"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_wechat_pub_qrcode,"list-type":"picture-card",icon:"el-icon-upload",limit:1,"auto-upload":!0,"on-success":e.imgsuccess4}},[e._v("上传图片")])],1),e._v(" "),a("el-form-item",{attrs:{label:"微商相册地址"}},[a("el-input",{model:{value:e.temp.merc_weshop_photo_address,callback:function(t){e.$set(e.temp,"merc_weshop_photo_address",t)},expression:"temp.merc_weshop_photo_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微商相册二维码"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_weshop_photo_qrcode,"list-type":"picture-card",icon:"el-icon-upload",limit:1,"auto-upload":!0,"on-success":e.imgsuccess5}},[e._v("上传图片")])],1),e._v(" "),a("el-form-item",{attrs:{label:"短视频地址"}},[a("el-input",{model:{value:e.temp.merc_video_address,callback:function(t){e.$set(e.temp,"merc_video_address",t)},expression:"temp.merc_video_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短视频二维码"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_video_qrcode,"list-type":"picture-card",icon:"el-icon-upload",limit:1,"auto-upload":!0,"on-success":e.imgsuccess6}},[e._v("上传图片")])],1),e._v(" "),a("el-form-item",{attrs:{label:"直播地址"}},[a("el-input",{model:{value:e.temp.merc_live_address,callback:function(t){e.$set(e.temp,"merc_live_address",t)},expression:"temp.merc_live_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"直播二维码"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_live_qrcode,"list-type":"picture-card",icon:"el-icon-upload",limit:1,"auto-upload":!0,"on-success":e.imgsuccess7}},[e._v("上传图片")])],1),e._v(" "),a("el-form-item",{attrs:{label:"有赞微商城地址"}},[a("el-input",{model:{value:e.temp.merc_zan_address,callback:function(t){e.$set(e.temp,"merc_zan_address",t)},expression:"temp.merc_zan_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有赞微商城二维码"}},[a("el-upload",{attrs:{action:e.uploadUri,"file-list":e.temp.merc_zan_qrcode,"list-type":"picture-card",icon:"el-icon-upload",limit:1,"auto-upload":!0,"on-success":e.imgsuccess8}},[e._v("上传图片")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{margin:"30px 0 0 163px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        保存\n      ")])],1)],1)])},o=[],s=(a("28a5"),a("f84d")),i=a("6724"),c={name:"MercIndexSave",directives:{waves:i["a"]},inject:["reload"],data:function(){return{listLoading:!0,couponSelected:"",selectName:"",dialogStatus:"",uploadUri:this.GLOBAL.upload_url,sysTag:[],diyTag:[],jsonData:{},type:"",temp:{b_d_id:void 0,merc_name:void 0,merc_logo:void 0,merc_info:void 0,merc_description:void 0,merc_sys_tag:[],merc_diy_tag:[],room_number:void 0,merc_floor:void 0,merc_banner:[],merc_address:void 0,merc_tel:void 0,merc_wechat_qrcode:[],merc_wechat_pub_address:void 0,merc_wechat_pub_qrcode:void 0,merc_weshop_photo_address:void 0,merc_weshop_photo_qrcode:void 0,merc_video_address:void 0,merc_video_qrcode:void 0,merc_live_address:void 0,merc_live_qrcode:void 0,merc_zan_address:void 0,merc_zan_qrcode:void 0},rules:{},listQuery:{}}},created:function(){this.getList(),this.dialogStatus=void 0===this.$route.query.id?"create":"update"},methods:{getList:function(){var e=this;this.listLoading=!0,void 0===this.$route.query.id?Object(s["d"])(this.listQuery).then((function(t){e.type=t.data.bdList,e.sysTag=t.data.sysTag,e.diyTag=t.data.diyTag})):(this.listQuery.editid=this.$route.query.id,console.log(this.listQuery),Object(s["a"])(this.listQuery).then((function(t){e.type=t.data.bdList,e.sysTag=t.data.sysTag,e.diyTag=t.data.diyTag,e.jsonData=t.data.floor.split(","),e.temp=t.data.findData,e.couponSelected=t.data.findData.b_d_id,e.temp.merc_logo=""===t.data.findData.merc_logo?void 0:t.data.findData.merc_logo,e.temp.merc_banner=""===t.data.findData.merc_banner?void 0:t.data.findData.merc_banner,e.temp.merc_wechat_qrcode=""===t.data.findData.merc_wechat_qrcode?void 0:t.data.findData.merc_wechat_qrcode,e.temp.merc_wechat_pub_qrcode=""===t.data.findData.merc_wechat_pub_qrcode?void 0:t.data.findData.merc_wechat_pub_qrcode,e.temp.merc_weshop_photo_qrcode=""===t.data.findData.merc_weshop_photo_qrcode?void 0:t.data.findData.merc_weshop_photo_qrcode,e.temp.merc_video_qrcode=""===t.data.findData.merc_video_qrcode?void 0:t.data.findData.merc_video_qrcode,e.temp.merc_live_qrcode=""===t.data.findData.merc_live_qrcode?void 0:t.data.findData.merc_live_qrcode,e.temp.merc_zan_qrcode=""===t.data.findData.merc_zan_qrcode?void 0:t.data.findData.merc_zan_qrcode,e.temp.merc_sys_tag=t.data.findData.merc_sys_tag.split(","),e.temp.merc_diy_tag=t.data.findData.merc_diy_tag.split(",")})))},selectData:function(e){var t=this;this.jsonData={},this.jsonData.id=e,this.selectName="",this.selectName=this.type[e-1].b_d_name,this.temp.merc_floor=void 0,this.temp.room_number=void 0,this.temp.merc_name=void 0,this.temp.merc_address="",Object(s["g"])(this.jsonData).then((function(a){t.jsonData=a.data.items,t.temp.b_d_id=e}))},imgsuccess1:function(e){this.temp.merc_logo=e.data},imgsuccess2:function(e){this.temp.merc_banner.push(e.data)},imgsuccess3:function(e){this.temp.merc_wechat_qrcode.push(e.data)},imgsuccess4:function(e){this.temp.merc_wechat_pub_qrcode=e.data},imgsuccess5:function(e){this.temp.merc_weshop_photo_qrcode=e.data},imgsuccess6:function(e){this.temp.merc_video_qrcode=e.data},imgsuccess7:function(e){this.temp.merc_live_qrcode=e.data},imgsuccess8:function(e){this.temp.merc_zan_qrcode=e.data},saveaddress:function(){this.temp.merc_address="",this.temp.merc_address+=this.selectName,this.temp.merc_address+=void 0===this.temp.merc_floor?"":this.temp.merc_floor+"楼",this.temp.merc_address+=void 0===this.temp.room_number?"":this.temp.room_number,this.temp.merc_address+=void 0===this.temp.merc_name?"":this.temp.merc_name},createData:function(){var e=this;return void 0===this.temp.b_d_id?(this.$message.error("所属商圈为空"),!1):void 0===this.temp.merc_name?(this.$message.error("商家名称为空"),!1):void 0===this.temp.merc_floor?(this.$message.error("楼层为空"),!1):void 0===this.temp.room_number?(this.$message.error("房间号/档口号为空"),!1):void Object(s["c"])(this.temp).then((function(t){"success"===t.data?(e.$message.success("操作成功"),setTimeout((function(){e.$router.push({path:"/merc/index/list"})}),1500)):e.$message.error("操作失败")}))},updateData:function(){var e=this;this.temp.id=this.listQuery.editid,Object(s["k"])(this.temp).then((function(t){"success"===t.data?(e.$message.success("操作成功"),setTimeout((function(){e.$router.push({path:"/merc/index/list"})}),1500)):e.$message.error("操作失败")}))}}},d=c,l=a("2877"),m=Object(l["a"])(d,r,o,!1,null,"8da647f2",null);t["default"]=m.exports},6724:function(e,t,a){"use strict";a("8d41");var r="@@wavesContext";function o(e,t){function a(a){var r=Object.assign({},t.value),o=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},r),s=o.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var i=s.getBoundingClientRect(),c=s.querySelector(".waves-ripple");switch(c?c.className="waves-ripple":(c=document.createElement("span"),c.className="waves-ripple",c.style.height=c.style.width=Math.max(i.width,i.height)+"px",s.appendChild(c)),o.type){case"center":c.style.top=i.height/2-c.offsetHeight/2+"px",c.style.left=i.width/2-c.offsetWidth/2+"px";break;default:c.style.top=(a.pageY-i.top-c.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",c.style.left=(a.pageX-i.left-c.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return c.style.backgroundColor=o.color,c.className="waves-ripple z-active",!1}}return e[r]?e[r].removeHandle=a:e[r]={removeHandle:a},a}var s={bind:function(e,t){e.addEventListener("click",o(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[r].removeHandle,!1),e.addEventListener("click",o(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[r].removeHandle,!1),e[r]=null,delete e[r]}},i=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(i)),s.install=i;t["a"]=s},"8d41":function(e,t,a){},f84d:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"h",(function(){return c})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return l})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return n})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"k",(function(){return _}));var r=a("b775");function o(e){return Object(r["a"])({url:"/merc/index",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/merc/selectfloor",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/merc/tag",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/merc/status",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/merc/filter",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/merc/remove",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/merc/removemerc",method:"get",params:e})}function n(e){return Object(r["a"])({url:"/merc/savetag",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/merc/insertmerc",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/merc/findlist",method:"post",params:e})}function _(e){return Object(r["a"])({url:"/merc/updatemerc",method:"post",data:e})}}}]);